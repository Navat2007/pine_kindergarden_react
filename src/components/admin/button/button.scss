@import "../../../styles/mixins";
@import "../../../styles/extends";

.button {
    @extend %reset-btn;
    width: 100%;
    padding: 1em;
    font-weight: normal;
    color: #fff;
    background-color: var(--primary);
    border-radius: 5px;
    transition: background-color 0.25s ease-in;

    &:disabled {
        pointer-events: none;
        user-select: none;
        filter: grayscale(100%);
    }

    &:hover:not(disabled) {
        background-color: rgba(var(--primary-opacity), 0.9);
    }

    &:focus-visible {
        box-shadow: 0 0 3px var(--primary);
    }

    &_loading {
        position: relative;

        pointer-events: none;
        user-select: none;
        filter: grayscale(50%);
    }

    &__spinner {
        position: absolute;
        z-index: 1;
        inset: 0;
        @include box(100%);
        background-color: var(--primary);
        border-radius: 5px;

        display: flex;
        align-items: center;
        justify-content: center;

        & > div {
            @include box(0.875em);
            border-radius: 50%;
            background-color: currentColor;
            margin-right: 2.5%;
            animation: loader 1.25s infinite ease-in-out both;

            &:nth-of-type(2) {
                animation-delay: 0.25s;
            }

            &:last-of-type {
                animation-delay: 0.5s;
                margin-right: 0;
            }
        }
    }
}

@include keyframes(loader) {
    0%,
    80%,
    100% {
        transform: translate3d(0, 0, 0) scale(0.25);
        opacity: 0;
    }

    40% {
        transform: translate3d(0, 0, 0) scale(1);
        opacity: 1;
    }
}